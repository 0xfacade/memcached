<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>memcached: thread.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>thread.c File Reference</h1><code>#include &quot;<a class="el" href="memcached_8h-source.html">memcached.h</a>&quot;</code><br>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;pthread.h&gt;</code><br>

<p>
<div class="dynheader">
Include dependency graph for thread.c:</div>
<div class="dynsection">
<p><center><img src="thread_8c__incl.png" border="0" usemap="#thread.c_map" alt=""></center>
<map name="thread.c_map">
<area shape="rect" id="node3" href="memcached_8h.html" title="The main memcached header holding commonly used data structures and function prototypes..." alt="" coords="916,83,1033,112"><area shape="rect" id="node23" href="protocol__binary_8h.html" title="protocol_binary.h" alt="" coords="845,160,979,189"><area shape="rect" id="node26" href="stats_8h.html" title="stats.h" alt="" coords="1003,160,1072,189"><area shape="rect" id="node28" href="slabs_8h.html" title="slabs.h" alt="" coords="1096,160,1163,189"><area shape="rect" id="node30" href="assoc_8h.html" title="assoc.h" alt="" coords="1187,160,1259,189"><area shape="rect" id="node32" href="items_8h.html" title="items.h" alt="" coords="1283,160,1355,189"><area shape="rect" id="node34" href="trace_8h.html" title="trace.h" alt="" coords="1379,160,1448,189"><area shape="rect" id="node36" href="hash_8h.html" title="hash.h" alt="" coords="1472,160,1536,189"><area shape="rect" id="node38" href="util_8h.html" title="util.h" alt="" coords="1560,160,1613,189"></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconn__queue__item.html">conn_queue_item</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconn__queue.html">conn_queue</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#5724578d4f53d817ea3e9750aacf262b">ITEMS_PER_ALLOC</a>&nbsp;&nbsp;&nbsp;64</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structconn__queue__item.html">conn_queue_item</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#41f388ca605b116da777ec9bb1e7516a">CQ_ITEM</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structconn__queue.html">conn_queue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#4e7f6c53cad5e1e4c455d2d85af8756c">CQ</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#4626562440107c11cdd7cc07ba28f806">accept_new_conns</a> (const bool do_accept)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#04c3e20b71072223654c0bbf7c266173">dispatch_conn_new</a> (int sfd, enum <a class="el" href="memcached_8h.html#397f77d103168a504b5fbc801538f2a7">conn_states</a> init_state, int event_flags, int read_buffer_size, enum <a class="el" href="memcached_8h.html#dd2ec924c0f221790d7235ffb2e615cd">protocol</a> prot)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#7a14a0df6eff0fd0852f4844eab2524a">is_listen_thread</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#d69cc14d059b72c07e1f0b550b1922c6">item_alloc</a> (char *key, size_t nkey, int flags, <a class="el" href="memcached_8h.html#602ccc3d124c1c56b6afe0ae93e04bc4">rel_time_t</a> exptime, int nbytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#1ff584f7053e4a5c8f2cffc7186a12aa">item_get</a> (const char *key, const size_t nkey)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#7fc0055d9dba8a3a14d2189e95acf844">item_link</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#5674d2ce2742470b8012fa4184f1fc3b">item_remove</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#32cd7e1744d2214e26f0ac267403314e">item_replace</a> (<a class="el" href="struct__stritem.html">item</a> *old_it, <a class="el" href="struct__stritem.html">item</a> *new_it)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#256717f932dae6220d67fa02af2266bc">item_unlink</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#c1d7ea5f69d88dd9b67b6f96520cad8d">item_update</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#4b4951c73b23897aee5843fb7306e764">add_delta</a> (<a class="el" href="structconn.html">conn</a> *c, <a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>, int incr, const int64_t delta, char *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="memcached_8h.html#1cf8921762294d73fe28150b7fa2a18e">store_item_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#c97ce2cadaeb4fe6524c0df01828c232">store_item</a> (<a class="el" href="struct__stritem.html">item</a> *<a class="el" href="struct__stritem.html">item</a>, int comm, <a class="el" href="structconn.html">conn</a> *c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#84097b43e7999f753c11603eff36dadc">item_flush_expired</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#8c9611028843ca37b4d20ec99fd8af23">item_cachedump</a> (unsigned int slabs_clsid, unsigned int limit, unsigned int *bytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#2b022c04b5ceac327d82762206f51ca8">item_stats</a> (<a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stats, void *c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#76a67af22fe6ce802c07e857f06cbdc8">item_stats_sizes</a> (<a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stats, void *c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#4633df360c62cd97d74fe185c291e508">STATS_LOCK</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#dc3a0e10eb26574752159d6a16d90007">STATS_UNLOCK</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#7bcb5bc469e4b71ebb523e8e1b7caf95">threadlocal_stats_reset</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#a2a47a4050d3821422922a7f45611ae9">threadlocal_stats_aggregate</a> (struct <a class="el" href="structthread__stats.html">thread_stats</a> *<a class="el" href="structstats.html">stats</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#9a8ed232ef10f74bc05293d3435f0b8f">slab_stats_aggregate</a> (struct <a class="el" href="structthread__stats.html">thread_stats</a> *<a class="el" href="structstats.html">stats</a>, struct <a class="el" href="structslab__stats.html">slab_stats</a> *out)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#79051074704249cac4424f10d4606fe3">thread_init</a> (int nthreads, struct event_base *main_base)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#9127df2a4e57929543f3b955e8fa6014">cache_lock</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread_8c.html#516da4c745197f600a201285359edeeb">conn_lock</a> = PTHREAD_MUTEX_INITIALIZER</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="5724578d4f53d817ea3e9750aacf262b"></a><!-- doxytag: member="thread.c::ITEMS_PER_ALLOC" ref="5724578d4f53d817ea3e9750aacf262b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ITEMS_PER_ALLOC&nbsp;&nbsp;&nbsp;64          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="4e7f6c53cad5e1e4c455d2d85af8756c"></a><!-- doxytag: member="thread.c::CQ" ref="4e7f6c53cad5e1e4c455d2d85af8756c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structconn__queue.html">conn_queue</a> <a class="el" href="structconn__queue.html">CQ</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="41f388ca605b116da777ec9bb1e7516a"></a><!-- doxytag: member="thread.c::CQ_ITEM" ref="41f388ca605b116da777ec9bb1e7516a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structconn__queue__item.html">conn_queue_item</a> <a class="el" href="structconn__queue__item.html">CQ_ITEM</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="4626562440107c11cdd7cc07ba28f806"></a><!-- doxytag: member="thread.c::accept_new_conns" ref="4626562440107c11cdd7cc07ba28f806" args="(const bool do_accept)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void accept_new_conns           </td>
          <td>(</td>
          <td class="paramtype">const bool&nbsp;</td>
          <td class="paramname"> <em>do_accept</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_4626562440107c11cdd7cc07ba28f806_cgraph.png" border="0" usemap="#thread_8c_4626562440107c11cdd7cc07ba28f806_cgraph_map" alt=""></center>
<map name="thread_8c_4626562440107c11cdd7cc07ba28f806_cgraph_map">
<area shape="rect" id="node3" href="memcached_8c.html#b3208d47b8d38af6818f6ced54e4d62c" title="do_accept_new_conns" alt="" coords="205,32,379,61"><area shape="rect" id="node5" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="437,5,541,35"><area shape="rect" id="node7" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="428,59,551,88"></map>
</div>

</div>
</div><p>
<a class="anchor" name="4b4951c73b23897aee5843fb7306e764"></a><!-- doxytag: member="thread.c::add_delta" ref="4b4951c73b23897aee5843fb7306e764" args="(conn *c, item *item, int incr, const int64_t delta, char *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* add_delta           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconn.html">conn</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>incr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int64_t&nbsp;</td>
          <td class="paramname"> <em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_4b4951c73b23897aee5843fb7306e764_cgraph.png" border="0" usemap="#thread_8c_4b4951c73b23897aee5843fb7306e764_cgraph_map" alt=""></center>
<map name="thread_8c_4b4951c73b23897aee5843fb7306e764_cgraph_map">
<area shape="rect" id="node3" href="memcached_8c.html#fecf346316b0c6852f5568ecd6440cf7" title="do_add_delta" alt="" coords="143,258,252,287"><area shape="rect" id="node5" href="items_8c.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="473,154,585,183"><area shape="rect" id="node25" href="items_8c.html#81d7ffedc021b4a576d5712b7cea34a7" title="do_item_remove" alt="" coords="461,23,597,53"><area shape="rect" id="node28" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="829,337,923,366"><area shape="rect" id="node30" href="memcached_8h.html#2920cc5a90ae6ca85b3dd4b786ac355e" title="item_replace" alt="" coords="303,258,412,287"><area shape="rect" id="node47" href="util_8c.html#cc5ba3b68c57abb666e3534e6616d93d" title="safe_strtoull" alt="" coords="305,387,409,417"><area shape="rect" id="node7" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="645,179,765,209"><area shape="rect" id="node15" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="824,230,928,259"><area shape="rect" id="node17" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="815,177,937,206"><area shape="rect" id="node19" href="slabs_8c.html#f71fcc67d3024b6d57945de6215fa421" title="Allocate object of given length." alt="" coords="660,22,751,51"><area shape="rect" id="node21" href="slabs_8c.html#89e035684df4bb1ef8b0852cb2c20f00" title="Given object size, return id to use when allocating/freeing memory for object 0 means..." alt="" coords="660,75,751,105"><area shape="rect" id="node9" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="820,123,932,153"><area shape="rect" id="node11" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="832,21,920,50"><area shape="rect" id="node13" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="988,21,1076,50"><area shape="rect" id="node32" href="items_8c.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="463,258,596,287"><area shape="rect" id="node34" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="653,283,757,313"><area shape="rect" id="node36" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="824,283,928,313"><area shape="rect" id="node38" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="987,257,1077,286"><area shape="rect" id="node40" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="1127,283,1177,313"></map>
</div>

</div>
</div><p>
<a class="anchor" name="04c3e20b71072223654c0bbf7c266173"></a><!-- doxytag: member="thread.c::dispatch_conn_new" ref="04c3e20b71072223654c0bbf7c266173" args="(int sfd, enum conn_states init_state, int event_flags, int read_buffer_size, enum protocol prot)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dispatch_conn_new           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="memcached_8h.html#397f77d103168a504b5fbc801538f2a7">conn_states</a>&nbsp;</td>
          <td class="paramname"> <em>init_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>event_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>read_buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="memcached_8h.html#dd2ec924c0f221790d7235ffb2e615cd">protocol</a>&nbsp;</td>
          <td class="paramname"> <em>prot</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7a14a0df6eff0fd0852f4844eab2524a"></a><!-- doxytag: member="thread.c::is_listen_thread" ref="7a14a0df6eff0fd0852f4844eab2524a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_listen_thread           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d69cc14d059b72c07e1f0b550b1922c6"></a><!-- doxytag: member="thread.c::item_alloc" ref="d69cc14d059b72c07e1f0b550b1922c6" args="(char *key, size_t nkey, int flags, rel_time_t exptime, int nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__stritem.html">item</a>* item_alloc           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>nkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#602ccc3d124c1c56b6afe0ae93e04bc4">rel_time_t</a>&nbsp;</td>
          <td class="paramname"> <em>exptime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nbytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_d69cc14d059b72c07e1f0b550b1922c6_cgraph.png" border="0" usemap="#thread_8c_d69cc14d059b72c07e1f0b550b1922c6_cgraph_map" alt=""></center>
<map name="thread_8c_d69cc14d059b72c07e1f0b550b1922c6_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="145,164,257,193"><area shape="rect" id="node5" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="307,61,427,91"><area shape="rect" id="node13" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="485,112,589,141"><area shape="rect" id="node15" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="476,165,599,195"><area shape="rect" id="node17" href="slabs_8c.html#f71fcc67d3024b6d57945de6215fa421" title="Allocate object of given length." alt="" coords="321,216,412,245"><area shape="rect" id="node19" href="slabs_8c.html#89e035684df4bb1ef8b0852cb2c20f00" title="Given object size, return id to use when allocating/freeing memory for object 0 means..." alt="" coords="321,269,412,299"><area shape="rect" id="node7" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="481,5,593,35"><area shape="rect" id="node9" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="493,59,581,88"><area shape="rect" id="node11" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="649,59,737,88"></map>
</div>

</div>
</div><p>
<a class="anchor" name="8c9611028843ca37b4d20ec99fd8af23"></a><!-- doxytag: member="thread.c::item_cachedump" ref="8c9611028843ca37b4d20ec99fd8af23" args="(unsigned int slabs_clsid, unsigned int limit, unsigned int *bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* item_cachedump           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>slabs_clsid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_8c9611028843ca37b4d20ec99fd8af23_cgraph.png" border="0" usemap="#thread_8c_8c9611028843ca37b4d20ec99fd8af23_cgraph_map" alt=""></center>
<map name="thread_8c_8c9611028843ca37b4d20ec99fd8af23_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#f8926aa0955ee34cec0fbe7214e74156" title="do_item_cachedump" alt="" coords="193,5,353,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="84097b43e7999f753c11603eff36dadc"></a><!-- doxytag: member="thread.c::item_flush_expired" ref="84097b43e7999f753c11603eff36dadc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_flush_expired           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_84097b43e7999f753c11603eff36dadc_cgraph.png" border="0" usemap="#thread_8c_84097b43e7999f753c11603eff36dadc_cgraph_map" alt=""></center>
<map name="thread_8c_84097b43e7999f753c11603eff36dadc_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#515ef8e7f0cef67772989fd076f7dcb4" title="do_item_flush_expired" alt="" coords="204,85,375,115"><area shape="rect" id="node5" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="424,85,544,115"><area shape="rect" id="node7" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="599,5,711,35"><area shape="rect" id="node9" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="611,59,699,88"><area shape="rect" id="node13" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="603,112,707,141"><area shape="rect" id="node15" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="593,165,716,195"><area shape="rect" id="node11" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="767,59,855,88"></map>
</div>

</div>
</div><p>
<a class="anchor" name="1ff584f7053e4a5c8f2cffc7186a12aa"></a><!-- doxytag: member="thread.c::item_get" ref="1ff584f7053e4a5c8f2cffc7186a12aa" args="(const char *key, const size_t nkey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__stritem.html">item</a>* item_get           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&nbsp;</td>
          <td class="paramname"> <em>nkey</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_1ff584f7053e4a5c8f2cffc7186a12aa_cgraph.png" border="0" usemap="#thread_8c_1ff584f7053e4a5c8f2cffc7186a12aa_cgraph_map" alt=""></center>
<map name="thread_8c_1ff584f7053e4a5c8f2cffc7186a12aa_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#cee9fa57d05e04e8965f3e19dc0a472c" title="wrapper around assoc_find which does the lazy expiration logic" alt="" coords="140,72,247,101"><area shape="rect" id="node5" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="311,32,401,61"><area shape="rect" id="node9" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="296,112,416,141"><area shape="rect" id="node7" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="501,5,552,35"><area shape="rect" id="node11" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="471,59,583,88"><area shape="rect" id="node13" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="483,112,571,141"><area shape="rect" id="node17" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="475,165,579,195"><area shape="rect" id="node19" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="465,219,588,248"><area shape="rect" id="node15" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="639,112,727,141"></map>
</div>

</div>
</div><p>
<a class="anchor" name="7fc0055d9dba8a3a14d2189e95acf844"></a><!-- doxytag: member="thread.c::item_link" ref="7fc0055d9dba8a3a14d2189e95acf844" args="(item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item_link           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_7fc0055d9dba8a3a14d2189e95acf844_cgraph.png" border="0" usemap="#thread_8c_7fc0055d9dba8a3a14d2189e95acf844_cgraph_map" alt=""></center>
<map name="thread_8c_7fc0055d9dba8a3a14d2189e95acf844_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="136,111,240,140"><area shape="rect" id="node5" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="299,31,403,60"><area shape="rect" id="node12" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="304,84,397,113"><area shape="rect" id="node14" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="299,137,403,167"><area shape="rect" id="node16" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="289,191,412,220"><area shape="rect" id="node7" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="461,5,552,35"><area shape="rect" id="node9" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="601,32,652,61"></map>
</div>

</div>
</div><p>
<a class="anchor" name="5674d2ce2742470b8012fa4184f1fc3b"></a><!-- doxytag: member="thread.c::item_remove" ref="5674d2ce2742470b8012fa4184f1fc3b" args="(item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_remove           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_5674d2ce2742470b8012fa4184f1fc3b_cgraph.png" border="0" usemap="#thread_8c_5674d2ce2742470b8012fa4184f1fc3b_cgraph_map" alt=""></center>
<map name="thread_8c_5674d2ce2742470b8012fa4184f1fc3b_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#81d7ffedc021b4a576d5712b7cea34a7" title="do_item_remove" alt="" coords="165,5,301,35"><area shape="rect" id="node5" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="349,5,437,35"><area shape="rect" id="node7" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="487,5,575,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="32cd7e1744d2214e26f0ac267403314e"></a><!-- doxytag: member="thread.c::item_replace" ref="32cd7e1744d2214e26f0ac267403314e" args="(item *old_it, item *new_it)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item_replace           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>old_it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>new_it</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_32cd7e1744d2214e26f0ac267403314e_cgraph.png" border="0" usemap="#thread_8c_32cd7e1744d2214e26f0ac267403314e_cgraph_map" alt=""></center>
<map name="thread_8c_32cd7e1744d2214e26f0ac267403314e_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="165,139,299,168"><area shape="rect" id="node5" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="355,112,459,141"><area shape="rect" id="node20" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="347,165,467,195"><area shape="rect" id="node7" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="525,5,629,35"><area shape="rect" id="node14" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="531,59,624,88"><area shape="rect" id="node16" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="525,112,629,141"><area shape="rect" id="node18" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="516,165,639,195"><area shape="rect" id="node9" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="688,32,779,61"><area shape="rect" id="node11" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="828,7,879,36"><area shape="rect" id="node22" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="521,219,633,248"><area shape="rect" id="node24" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="533,272,621,301"><area shape="rect" id="node26" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="689,272,777,301"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_32cd7e1744d2214e26f0ac267403314e_icgraph.png" border="0" usemap="#thread_8c_32cd7e1744d2214e26f0ac267403314e_icgraph_map" alt=""></center>
<map name="thread_8c_32cd7e1744d2214e26f0ac267403314e_icgraph_map">
<area shape="rect" id="node3" href="memcached_8h.html#72e74041ab741435d161a044d23d0bef" title="do_add_delta" alt="" coords="171,5,280,35"><area shape="rect" id="node7" href="memcached_8h.html#c2e150055051a36e29e8215f5bc35fca" title="do_store_item" alt="" coords="165,59,285,88"><area shape="rect" id="node5" href="thread_8c.html#4b4951c73b23897aee5843fb7306e764" title="add_delta" alt="" coords="337,5,425,35"><area shape="rect" id="node9" href="thread_8c.html#c97ce2cadaeb4fe6524c0df01828c232" title="store_item" alt="" coords="333,59,429,88"></map>
</div>

</div>
</div><p>
<a class="anchor" name="2b022c04b5ceac327d82762206f51ca8"></a><!-- doxytag: member="thread.c::item_stats" ref="2b022c04b5ceac327d82762206f51ca8" args="(ADD_STAT add_stats, void *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_stats           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a>&nbsp;</td>
          <td class="paramname"> <em>add_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_2b022c04b5ceac327d82762206f51ca8_cgraph.png" border="0" usemap="#thread_8c_2b022c04b5ceac327d82762206f51ca8_cgraph_map" alt=""></center>
<map name="thread_8c_2b022c04b5ceac327d82762206f51ca8_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#c37d9c76fff27f10050dc069eef7d50c" title="do_item_stats" alt="" coords="149,5,269,35"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_2b022c04b5ceac327d82762206f51ca8_icgraph.png" border="0" usemap="#thread_8c_2b022c04b5ceac327d82762206f51ca8_icgraph_map" alt=""></center>
<map name="thread_8c_2b022c04b5ceac327d82762206f51ca8_icgraph_map">
<area shape="rect" id="node3" href="slabs_8h.html#0e8837809ec40b8024ca6f972830176c" title="Return a datum for stats in binary protocol." alt="" coords="149,5,237,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="76a67af22fe6ce802c07e857f06cbdc8"></a><!-- doxytag: member="thread.c::item_stats_sizes" ref="76a67af22fe6ce802c07e857f06cbdc8" args="(ADD_STAT add_stats, void *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_stats_sizes           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memcached_8h.html#b8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a>&nbsp;</td>
          <td class="paramname"> <em>add_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_76a67af22fe6ce802c07e857f06cbdc8_cgraph.png" border="0" usemap="#thread_8c_76a67af22fe6ce802c07e857f06cbdc8_cgraph_map" alt=""></center>
<map name="thread_8c_76a67af22fe6ce802c07e857f06cbdc8_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#83d27e539e6256fe75653def1f4594e3" title="dumps out a list of objects of each size, with granularity of 32 bytes" alt="" coords="192,5,352,35"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_76a67af22fe6ce802c07e857f06cbdc8_icgraph.png" border="0" usemap="#thread_8c_76a67af22fe6ce802c07e857f06cbdc8_icgraph_map" alt=""></center>
<map name="thread_8c_76a67af22fe6ce802c07e857f06cbdc8_icgraph_map">
<area shape="rect" id="node3" href="slabs_8h.html#0e8837809ec40b8024ca6f972830176c" title="Return a datum for stats in binary protocol." alt="" coords="192,5,280,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="256717f932dae6220d67fa02af2266bc"></a><!-- doxytag: member="thread.c::item_unlink" ref="256717f932dae6220d67fa02af2266bc" args="(item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_unlink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_256717f932dae6220d67fa02af2266bc_cgraph.png" border="0" usemap="#thread_8c_256717f932dae6220d67fa02af2266bc_cgraph_map" alt=""></center>
<map name="thread_8c_256717f932dae6220d67fa02af2266bc_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="152,85,272,115"><area shape="rect" id="node5" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="327,5,439,35"><area shape="rect" id="node7" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="339,59,427,88"><area shape="rect" id="node11" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="331,112,435,141"><area shape="rect" id="node13" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="321,165,444,195"><area shape="rect" id="node9" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="495,59,583,88"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c1d7ea5f69d88dd9b67b6f96520cad8d"></a><!-- doxytag: member="thread.c::item_update" ref="c1d7ea5f69d88dd9b67b6f96520cad8d" args="(item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_update           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_c1d7ea5f69d88dd9b67b6f96520cad8d_cgraph.png" border="0" usemap="#thread_8c_c1d7ea5f69d88dd9b67b6f96520cad8d_cgraph_map" alt=""></center>
<map name="thread_8c_c1d7ea5f69d88dd9b67b6f96520cad8d_cgraph_map">
<area shape="rect" id="node3" href="items_8c.html#4fc546770369a633debd89e0b9b19d3d" title="do_item_update" alt="" coords="164,5,295,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="9a8ed232ef10f74bc05293d3435f0b8f"></a><!-- doxytag: member="thread.c::slab_stats_aggregate" ref="9a8ed232ef10f74bc05293d3435f0b8f" args="(struct thread_stats *stats, struct slab_stats *out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void slab_stats_aggregate           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread__stats.html">thread_stats</a> *&nbsp;</td>
          <td class="paramname"> <em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structslab__stats.html">slab_stats</a> *&nbsp;</td>
          <td class="paramname"> <em>out</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4633df360c62cd97d74fe185c291e508"></a><!-- doxytag: member="thread.c::STATS_LOCK" ref="4633df360c62cd97d74fe185c291e508" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void STATS_LOCK           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_4633df360c62cd97d74fe185c291e508_icgraph.png" border="0" usemap="#thread_8c_4633df360c62cd97d74fe185c291e508_icgraph_map" alt=""></center>
<map name="thread_8c_4633df360c62cd97d74fe185c291e508_icgraph_map">
<area shape="rect" id="node3" href="memcached_8h.html#6ebcba889fc606ff046c98182669de1f" title="conn_new" alt="" coords="219,8,307,37"><area shape="rect" id="node5" href="memcached_8h.html#b3208d47b8d38af6818f6ced54e4d62c" title="do_accept_new_conns" alt="" coords="176,61,349,91"><area shape="rect" id="node9" href="items_8h.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="444,59,556,88"><area shape="rect" id="node21" href="items_8h.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="211,219,315,248"><area shape="rect" id="node32" href="items_8h.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="203,165,323,195"><area shape="rect" id="node47" href="stats_8h.html#5914caa665237a3786c5edd3a7a0baee" title="stats_prefix_dump" alt="" coords="189,272,336,301"><area shape="rect" id="node49" href="stats_8h.html#a8188646a84875b1122fb77a5abb1070" title="stats_prefix_record_delete" alt="" coords="161,325,364,355"><area shape="rect" id="node51" href="stats_8h.html#d70e569de7d0924378506b5eed7aec6b" title="stats_prefix_record_get" alt="" coords="171,379,355,408"><area shape="rect" id="node53" href="stats_8h.html#84422d7b48e0ac7f5796d1627f8af706" title="stats_prefix_record_set" alt="" coords="172,432,353,461"><area shape="rect" id="node7" href="thread_8c.html#4626562440107c11cdd7cc07ba28f806" title="accept_new_conns" alt="" coords="425,5,575,35"><area shape="rect" id="node11" href="memcached_8h.html#72e74041ab741435d161a044d23d0bef" title="do_add_delta" alt="" coords="837,177,947,207"><area shape="rect" id="node15" href="memcached_8h.html#c2e150055051a36e29e8215f5bc35fca" title="do_store_item" alt="" coords="832,256,952,285"><area shape="rect" id="node19" href="thread_8c.html#d69cc14d059b72c07e1f0b550b1922c6" title="item_alloc" alt="" coords="664,59,755,88"><area shape="rect" id="node13" href="thread_8c.html#4b4951c73b23897aee5843fb7306e764" title="add_delta" alt="" coords="1004,177,1092,207"><area shape="rect" id="node17" href="thread_8c.html#c97ce2cadaeb4fe6524c0df01828c232" title="store_item" alt="" coords="1000,256,1096,285"><area shape="rect" id="node23" href="items_8h.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="433,219,567,248"><area shape="rect" id="node30" href="thread_8c.html#7fc0055d9dba8a3a14d2189e95acf844" title="item_link" alt="" coords="460,424,540,453"><area shape="rect" id="node25" href="thread_8c.html#32cd7e1744d2214e26f0ac267403314e" title="item_replace" alt="" coords="655,216,764,245"><area shape="rect" id="node35" href="items_8h.html#515ef8e7f0cef67772989fd076f7dcb4" title="do_item_flush_expired" alt="" coords="415,165,585,195"><area shape="rect" id="node39" href="items_8h.html#cee9fa57d05e04e8965f3e19dc0a472c" title="wrapper around assoc_find which does the lazy expiration logic" alt="" coords="447,272,553,301"><area shape="rect" id="node45" href="thread_8c.html#256717f932dae6220d67fa02af2266bc" title="item_unlink" alt="" coords="452,112,548,141"><area shape="rect" id="node37" href="thread_8c.html#84097b43e7999f753c11603eff36dadc" title="item_flush_expired" alt="" coords="636,163,783,192"><area shape="rect" id="node42" href="thread_8c.html#1ff584f7053e4a5c8f2cffc7186a12aa" title="item_get" alt="" coords="668,269,751,299"></map>
</div>

</div>
</div><p>
<a class="anchor" name="dc3a0e10eb26574752159d6a16d90007"></a><!-- doxytag: member="thread.c::STATS_UNLOCK" ref="dc3a0e10eb26574752159d6a16d90007" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void STATS_UNLOCK           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_dc3a0e10eb26574752159d6a16d90007_icgraph.png" border="0" usemap="#thread_8c_dc3a0e10eb26574752159d6a16d90007_icgraph_map" alt=""></center>
<map name="thread_8c_dc3a0e10eb26574752159d6a16d90007_icgraph_map">
<area shape="rect" id="node3" href="memcached_8h.html#6ebcba889fc606ff046c98182669de1f" title="conn_new" alt="" coords="237,8,325,37"><area shape="rect" id="node5" href="memcached_8h.html#b3208d47b8d38af6818f6ced54e4d62c" title="do_accept_new_conns" alt="" coords="195,61,368,91"><area shape="rect" id="node9" href="items_8h.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="463,59,575,88"><area shape="rect" id="node21" href="items_8h.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="229,219,333,248"><area shape="rect" id="node32" href="items_8h.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="221,165,341,195"><area shape="rect" id="node47" href="stats_8h.html#5914caa665237a3786c5edd3a7a0baee" title="stats_prefix_dump" alt="" coords="208,272,355,301"><area shape="rect" id="node49" href="stats_8h.html#a8188646a84875b1122fb77a5abb1070" title="stats_prefix_record_delete" alt="" coords="180,325,383,355"><area shape="rect" id="node51" href="stats_8h.html#d70e569de7d0924378506b5eed7aec6b" title="stats_prefix_record_get" alt="" coords="189,379,373,408"><area shape="rect" id="node53" href="stats_8h.html#84422d7b48e0ac7f5796d1627f8af706" title="stats_prefix_record_set" alt="" coords="191,432,372,461"><area shape="rect" id="node7" href="thread_8c.html#4626562440107c11cdd7cc07ba28f806" title="accept_new_conns" alt="" coords="444,5,593,35"><area shape="rect" id="node11" href="memcached_8h.html#72e74041ab741435d161a044d23d0bef" title="do_add_delta" alt="" coords="856,177,965,207"><area shape="rect" id="node15" href="memcached_8h.html#c2e150055051a36e29e8215f5bc35fca" title="do_store_item" alt="" coords="851,256,971,285"><area shape="rect" id="node19" href="thread_8c.html#d69cc14d059b72c07e1f0b550b1922c6" title="item_alloc" alt="" coords="683,59,773,88"><area shape="rect" id="node13" href="thread_8c.html#4b4951c73b23897aee5843fb7306e764" title="add_delta" alt="" coords="1023,177,1111,207"><area shape="rect" id="node17" href="thread_8c.html#c97ce2cadaeb4fe6524c0df01828c232" title="store_item" alt="" coords="1019,256,1115,285"><area shape="rect" id="node23" href="items_8h.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="452,219,585,248"><area shape="rect" id="node30" href="thread_8c.html#7fc0055d9dba8a3a14d2189e95acf844" title="item_link" alt="" coords="479,424,559,453"><area shape="rect" id="node25" href="thread_8c.html#32cd7e1744d2214e26f0ac267403314e" title="item_replace" alt="" coords="673,216,783,245"><area shape="rect" id="node35" href="items_8h.html#515ef8e7f0cef67772989fd076f7dcb4" title="do_item_flush_expired" alt="" coords="433,165,604,195"><area shape="rect" id="node39" href="items_8h.html#cee9fa57d05e04e8965f3e19dc0a472c" title="wrapper around assoc_find which does the lazy expiration logic" alt="" coords="465,272,572,301"><area shape="rect" id="node45" href="thread_8c.html#256717f932dae6220d67fa02af2266bc" title="item_unlink" alt="" coords="471,112,567,141"><area shape="rect" id="node37" href="thread_8c.html#84097b43e7999f753c11603eff36dadc" title="item_flush_expired" alt="" coords="655,163,801,192"><area shape="rect" id="node42" href="thread_8c.html#1ff584f7053e4a5c8f2cffc7186a12aa" title="item_get" alt="" coords="687,269,769,299"></map>
</div>

</div>
</div><p>
<a class="anchor" name="c97ce2cadaeb4fe6524c0df01828c232"></a><!-- doxytag: member="thread.c::store_item" ref="c97ce2cadaeb4fe6524c0df01828c232" args="(item *item, int comm, conn *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="memcached_8h.html#1cf8921762294d73fe28150b7fa2a18e">store_item_type</a> store_item           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__stritem.html">item</a> *&nbsp;</td>
          <td class="paramname"> <em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconn.html">conn</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_c97ce2cadaeb4fe6524c0df01828c232_cgraph.png" border="0" usemap="#thread_8c_c97ce2cadaeb4fe6524c0df01828c232_cgraph_map" alt=""></center>
<map name="thread_8c_c97ce2cadaeb4fe6524c0df01828c232_cgraph_map">
<area shape="rect" id="node3" href="memcached_8c.html#7d76af30e49baebcf82c13f241352544" title="do_store_item" alt="" coords="149,208,269,237"><area shape="rect" id="node5" href="items_8c.html#5b94ba56566ec70ae2a1906e1b6b14ae" title="do_item_alloc" alt="" coords="512,127,624,156"><area shape="rect" id="node25" href="items_8c.html#cee9fa57d05e04e8965f3e19dc0a472c" title="wrapper around assoc_find which does the lazy expiration logic" alt="" coords="515,233,621,263"><area shape="rect" id="node32" href="items_8c.html#aac564a623aaea767ddbfd0dd07ced15" title="do_item_link" alt="" coords="691,285,795,315"><area shape="rect" id="node42" href="items_8c.html#81d7ffedc021b4a576d5712b7cea34a7" title="do_item_remove" alt="" coords="317,23,453,52"><area shape="rect" id="node45" href="items_8c.html#4fc546770369a633debd89e0b9b19d3d" title="do_item_update" alt="" coords="320,337,451,367"><area shape="rect" id="node47" href="memcached_8h.html#2920cc5a90ae6ca85b3dd4b786ac355e" title="item_replace" alt="" coords="331,181,440,211"><area shape="rect" id="node7" href="items_8c.html#8068353af89272b21fbf0bd88d34118b" title="may fail if transgresses limits" alt="" coords="683,180,803,209"><area shape="rect" id="node15" href="memcached_8h.html#841571aaa5b597a35565f8e12d164a59" title="STATS_LOCK" alt="" coords="861,232,965,261"><area shape="rect" id="node17" href="memcached_8h.html#255149a6925c7daf8dbee2d867a36056" title="STATS_UNLOCK" alt="" coords="852,125,975,155"><area shape="rect" id="node19" href="slabs_8c.html#f71fcc67d3024b6d57945de6215fa421" title="Allocate object of given length." alt="" coords="697,23,788,52"><area shape="rect" id="node21" href="slabs_8c.html#89e035684df4bb1ef8b0852cb2c20f00" title="Given object size, return id to use when allocating/freeing memory for object 0 means..." alt="" coords="697,76,788,105"><area shape="rect" id="node9" href="assoc_8c.html#d2a245870a21e6edd5a7ad482f9dca5c" title="assoc_delete" alt="" coords="857,179,969,208"><area shape="rect" id="node11" href="items_8c.html#5305dd637fb32e9a99b97326de1429eb" title="item_free" alt="" coords="869,21,957,51"><area shape="rect" id="node13" href="slabs_8c.html#870e49205e3adc320d078b03d8ea3b23" title="Free previously allocated object." alt="" coords="1025,21,1113,51"><area shape="rect" id="node27" href="assoc_8c.html#4972dca83569e1f192b193facb64a02f" title="assoc_find" alt="" coords="1024,337,1115,367"><area shape="rect" id="node29" href="hash_8h.html#1c12edaae63f2e86a5b276a18475f863" title="hash" alt="" coords="1164,312,1215,341"><area shape="rect" id="node34" href="assoc_8c.html#94c9da94d37601ba417f1f8a401dfc01" title="assoc_insert" alt="" coords="861,285,965,315"><area shape="rect" id="node38" href="items_8c.html#62b7c83e5bdd71713688f70199319902" title="get_cas_id" alt="" coords="867,339,960,368"><area shape="rect" id="node49" href="items_8c.html#cd5e21c19f9875e0d6a74943f90b6cc8" title="update LRU time to current and reposition" alt="" coords="501,180,635,209"></map>
</div>

</div>
</div><p>
<a class="anchor" name="79051074704249cac4424f10d4606fe3"></a><!-- doxytag: member="thread.c::thread_init" ref="79051074704249cac4424f10d4606fe3" args="(int nthreads, struct event_base *main_base)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_init           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nthreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct event_base *&nbsp;</td>
          <td class="paramname"> <em>main_base</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="thread_8c_79051074704249cac4424f10d4606fe3_icgraph.png" border="0" usemap="#thread_8c_79051074704249cac4424f10d4606fe3_icgraph_map" alt=""></center>
<map name="thread_8c_79051074704249cac4424f10d4606fe3_icgraph_map">
<area shape="rect" id="node3" href="memcached_8c.html#3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="149,5,203,35"></map>
</div>

</div>
</div><p>
<a class="anchor" name="a2a47a4050d3821422922a7f45611ae9"></a><!-- doxytag: member="thread.c::threadlocal_stats_aggregate" ref="a2a47a4050d3821422922a7f45611ae9" args="(struct thread_stats *stats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void threadlocal_stats_aggregate           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread__stats.html">thread_stats</a> *&nbsp;</td>
          <td class="paramname"> <em>stats</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7bcb5bc469e4b71ebb523e8e1b7caf95"></a><!-- doxytag: member="thread.c::threadlocal_stats_reset" ref="7bcb5bc469e4b71ebb523e8e1b7caf95" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void threadlocal_stats_reset           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="9127df2a4e57929543f3b955e8fa6014"></a><!-- doxytag: member="thread.c::cache_lock" ref="9127df2a4e57929543f3b955e8fa6014" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="thread_8c.html#9127df2a4e57929543f3b955e8fa6014">cache_lock</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="516da4c745197f600a201285359edeeb"></a><!-- doxytag: member="thread.c::conn_lock" ref="516da4c745197f600a201285359edeeb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="thread_8c.html#516da4c745197f600a201285359edeeb">conn_lock</a> = PTHREAD_MUTEX_INITIALIZER          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Apr 17 15:14:54 2009 for memcached by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
